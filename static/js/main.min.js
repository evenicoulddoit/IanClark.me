'use strict';(function(a){var c={init:function(){this.extract_dom();this.events()},extract_dom:function(){this.$nav=a("#nav");this.$navToggle=a("#nav-toggle")},nav_click:function(b){b.stopPropagation()},nav_toggle:function(b){b="boolean"==typeof b?b:!this.$nav.hasClass("active");this.$nav.toggleClass("active",b)},events:function(){a("body").on("click",a.proxy(this.nav_toggle,this,!1));this.$nav.on("click",a.proxy(this.nav_click,this));this.$navToggle.on("click",a.proxy(this.nav_toggle,this))}};a("document").ready(function(){c.init()})})(jQuery);(function(a){var c={init:function(){this.extract_dom();this.events()},extract_dom:function(){this.$wrapperTech=a("#experience-technologies-inside");this.$elemsTech=a(".technology-story",this.$wrapperTech);this.$btnCloseTech=a("#tech-story-close");this.$currentTech=this.$prevTech=this.$nextTech=a();this.$wrapperTimeline=a("#experience-timeline-inside");this.wrapperTimelineClass=this.$wrapperTimeline.attr("class");this.$elemsTimeline=a(".timeline-period",this.$wrapperTimeline)},tech_show:function(b){this.$currentTech.is(b)||
("tech"!=this.active&&(this.active="tech",this.modals_reset(),this.$wrapperTech.addClass("story"),this._init_modal_keyevents(this.tech_set_prev_active,this.tech_set_next_active,this.tech_close)),this.$currentTech.removeClass("active story-visible"),this.$prevTech.add(this.$nextTech).removeClass("navigate prev next story-visible"),this.$currentTech=b.addClass("active story-visible"),this.$prevTech=this._get_prev_or_last(this.$currentTech,this.$elemsTech),this.$prevTech.addClass("navigate prev story-visible"),
this.$nextTech=this._get_next_or_first(this.$currentTech,this.$elemsTech),this.$nextTech.addClass("navigate next story-visible"),clearTimeout(this.loadedTimeout),this.$wrapperTech.removeClass("loaded"),this.loadedTimeout=setTimeout(a.proxy(this.tech_set_loaded,this),500))},tech_set_loaded:function(){this.$wrapperTech.addClass("loaded")},tech_set_prev_active:function(){this.tech_show(this.$prevTech)},tech_set_next_active:function(){this.tech_show(this.$nextTech)},tech_close:function(){this.$wrapperTech.removeClass("story loaded");
this.$elemsTech.attr("class","technology-story");this.$currentTech=a();this._modal_close()},timeline_show:function(b){var a=b.attr("id").split("-").slice(1).join("-");"timeline"!=this.active&&(this.active="timeline",this.modals_reset(),this._init_modal_keyevents(this.timeline_set_prev_active,this.timeline_set_next_active,this.timeline_close));this.$currentTimeline=b;this.$wrapperTimeline.attr("class",this.wrapperTimelineClass+" active active-"+a)},timeline_set_prev_active:function(){var a=this._get_prev_or_last(this.$currentTimeline,
this.$elemsTimeline);this.timeline_show(a)},timeline_set_next_active:function(){var a=this._get_next_or_first(this.$currentTimeline,this.$elemsTimeline);this.timeline_show(a)},timeline_close:function(){this.$wrapperTimeline.attr("class",this.wrapperTimelineClass);this._modal_close()},modals_reset:function(){this.tech_close();this.timeline_close()},_modal_close:function(){this._disable_modal_keyevents();delete this.active},_init_modal_keyevents:function(b,d,e){var c=this;a(window).off("keydown").on("keydown",
function(a){switch(a.keyCode){case 37:b.apply(c);break;case 39:d.apply(c);break;case 27:e.apply(c)}})},_disable_modal_keyevents:function(){a(window).off("keydown")},_get_prev_or_last:function(a,d){var c=d.index(a)-1;return 0<=c?d.eq(c):d.filter(":last")},_get_next_or_first:function(a,c){var e=c.index(a)+1;return e<c.length?c.eq(e):c.filter(":first")},_stop_propagation:function(a){a.stopPropagation()},events:function(){var b=this;a("body").on("click",a.proxy(this.modals_reset,this));this.$wrapperTech.on("click",
this._stop_propagation);this.$wrapperTimeline.on("click",this._stop_propagation);this.$btnCloseTech.on("click",a.proxy(this.tech_close,this));this.$elemsTech.on("click",function(){b.tech_show(a(this))});this.$elemsTimeline.on("click",function(){b.timeline_show(a(this))})}};a("document").ready(function(){a("#experience-wrapper").length&&c.init()})})(jQuery);
